# Тестовое задание 

## **Задача**

Необходимо реализовать проект, который ответственный за проверку исходного кода проекта, причем в сервисе необходимо реализовать API прослойку для автоматизации работы компаний партнеров.

### Основные модули, из которых состоит система:

**1. Модуль авторизации и регистрации пользователя.**

Пользователь должен иметь возможность зарегистрироваться в системе по паре почта и пароль, а также войти по этим данным.

**2. Модуль загрузки файлов с исходным кодом.**

Авторизованный пользователь должен иметь возможность загрузить файл в систему, при этом информация о загруженном файле должна сохраниться в базу данных с пометкой о том, что файл новый. Помимо этого, пользователь должен иметь возможность удалить файл или перезаписать, таким образом, в базе данных должны быть соответствующие пометки. Очень важно не давать загружать файлы, у которых расширение не равно “.py”.

**3. Модуль проверки соответствия кода общепринятым правилам.**

По расписанию выполняется задача на автоматическую проверку кода для новых загруженных или перезагруженных файлов. Проверку рекомендуется проводить с помощью утилиты flake8, чтобы обнаружить несоответствия общепринятым правилам оформления кода на python. По итогу проверки необходимо сформировать отложенную задачу на отправку письма пользователю с информацией о проведенной проверке. Важно хранить лог каждой проверки для каждого файла, который находится в списке файлов у пользователя в системе.

**4. Модуль отправки письма с уведомлением пользователю.**

Необходимо реализовать обработку задач из очереди на отправку уведомлений пользователю о результате проверки его файла. При этом, важно в логах проверки отмечать факт отправки сообщения пользователю.

**5. Модуль отчета о проведенных проверках**

В системе также должен быть интерфейс, в котором пользователь может просмотреть результаты выполненных проверок с пометками об отправке отчета пользователю на почту.

### Рекомендации:

- реализовать интерфейс можно с помощью uikit Bootstrap
- для работы с очередями лучше использовать celery в связке с redis
- для запуска периодических задач можно использовать celery beat

----

<h3>Используемые технологии</h3>
<ul>
<li>Python 3.11</li>
<li>Django 4.2.3</li>
<li>Postgres</li>
<li>DRF</li>
<li>Docker</li>
<li>Celery, Redis</li>
<li>flake8 (в модуле проверки кода)</li>
</ul>

----

<h3>Локальный запуск</h3>

Файл .env для локального запуска:
> DB_HOST=localhost <dr>
CELERY_BROKER_URL=redis://redis:6379/0 <dr>
POSTGRES_PASSWORD=postgres <dr>
POSTGRES_USER=postgres <dr>
POSTGRES_DB=postgres <dr>
DB_PORT=5432 <dr>

Команда для локального запуска (из корня проекта):<br>
<code>docker-compose up -d</code>
